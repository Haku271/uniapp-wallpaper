{"version":3,"file":"preview.js","sources":["pages/preview/preview.vue","D:/install/Core/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJldmlldy9wcmV2aWV3LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"preview\">\n    <swiper circular>\n      <swiper-item  v-for=\"item in wallList\" :key=\"item._id\">\n        <image @click=\"hide\" :src=\"item.picurl\" mode=\"aspectFill\"></image>\n      </swiper-item>\n    </swiper>\n\n    <view class=\"mask\" v-if=\"mask\">\n      <view class=\"back\" @click=\"back\" :style=\"{top: statusBarHeight() + 'px'}\">\n        <uni-icons type=\"back\" size=\"20\" color=\"#fff\"></uni-icons>\n      </view>\n      <view class=\"count\">1/{{wallList.length}}</view>\n      <view class=\"time\"><uni-dateformat :date=\"Date.now()\" format=\"hh:mm\"></uni-dateformat></view>\n      <view class=\"date\"><uni-dateformat :date=\"Date.now()\" format=\"MM月dd日\"></uni-dateformat></view>\n      <view class=\"info\">\n        <view class=\"box\" @click=\"infoopen\">\n          <uni-icons type=\"info\" size=\"28\"></uni-icons>\n          <view class=\"text\">信息</view>\n        </view>\n        <view class=\"box\" @click=\"staropen\">\n          <uni-icons type=\"star\" size=\"28\"></uni-icons>\n          <view class=\"text\">5分</view>\n        </view>\n        <view class=\"box\">\n          <uni-icons type=\"download\" size=\"24\"></uni-icons>\n          <view class=\"text\">下载</view>\n        </view>\n      </view>\n    </view>\n\n    <!-- info弹窗 -->\n    <uni-popup ref=\"infopopup\" type=\"bottom\">\n      <view class=\"infopopup\">\n        <view class=\"Header\">\n          <view></view>\n          <text class=\"title\">壁纸信息</text>\n          <view class=\"close\" @click=\"close\">\n            <uni-icons type=\"closeempty\" size=\"18\"></uni-icons>\n          </view>\n        </view>\n        <scroll-view scroll-y>\n          <view class=\"content\">\n            <view class=\"row\">\n              <view class=\"label\">壁纸ID：</view>\n              <text selectable class=\"value\">121212121212</text>\n            </view>\n            <view class=\"row\">\n              <view class=\"label\">发布者：</view>\n              <text selectable class=\"value\">我</text>\n            </view>\n            <view class=\"row\">\n              <view class=\"label\">评分：</view>\n              <view class=\"value star\">\n                <uni-rate value=\"5\" readonly touchable size=\"16\" />\n                <view class=\"score\">5分</view>\n              </view>\n            </view>\n            <view class=\"row\">\n              <view class=\"label\">摘要：</view>\n              <text selectable class=\"value\">灭有</text>\n            </view>\n            <view class=\"row\">\n              <view class=\"label\">标签：</view>\n              <view selectable class=\"value tabs\">\r\n                <view class=\"tab\" v-for=\"item in 3\" >明星</view>\r\n              </view>\n            </view>\n            <view class=\"copyright\">\n              声明：本图片来用户投稿，非商业使用，用于免费学习交流，如侵犯了您的权益，您可以拷贝壁纸ID举报至平台，邮箱2832167832@qq.com，管理将删除侵权壁纸，维护您的权益。\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n    </uni-popup>\n    <!-- 评分弹窗 -->\r\n    <uni-popup ref=\"starpopup\">\r\n      <view class=\"starpopup\">\r\n        <view class=\"Header\">\r\n          <view class=\"\"></view>\r\n          <view class=\"title\">壁纸信息</view>\r\n          <view class=\"close\" @click=\"close\">\r\n            <uni-icons type=\"closeempty\" size=\"18\"></uni-icons>\r\n          </view>\r\n        </view>\r\n        <view class=\"content\">\r\n          <uni-rate v-model=\"userstar\" allowHalf/>\r\n          <text class='text'>{{userstar}}分</text>\r\n        </view>\r\n        <view class=\"footer\">\r\n          <button @click=\"submit\" size=\"mini\" :disabled=\"!userstar\">确认评分</button>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\n</template>\n\n<script setup>\r\n  import {statusBarHeight} from '@/utils/sys.js'\nimport { ref, toRefs } from 'vue';\nconst mask = ref(true);\nconst infopopup = ref(null);\r\nconst starpopup = ref(null);\r\nconst userstar = ref(0)\r\nconst wallList = ref([])\r\n\r\nconst storgwallList = uni.getStorageSync(\"storgwallList\") || []\r\nwallList.vallue = storgwallList.map(item=>{\r\n  return {\r\n    ...item,\r\n    picurl:item.smallPicurl.replace(\"_small.webp\",\".jpg\")\r\n  }\r\n})\r\nconsole.log(wallList.vallue);\n//隐藏遮罩层\nconst hide = () => {\n  console.log(mask.value);\n  mask.value = !mask.value;\n};\r\n\r\n//返回首页\r\nconst back = ()=>{\r\n  uni.navigateBack()\r\n}\n\n//信息弹出层\nconst infoopen = () => {\n  infopopup.value.open('bottom');\n};\r\n\r\n//关闭弹出层\r\nconst close = ()=>{\r\n  infopopup.value.close()\r\n  starpopup.value.close()\r\n}\r\n\r\n//打开评分弹出层\r\nconst staropen = ()=>{\r\n  starpopup.value.open()\r\n}\r\n\r\n//确认评分\r\nconst submit = ()=>{\r\n  starpopup.value.close()\r\n}\n</script>\n<style lang=\"scss\" scoped>\n.preview {\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  swiper {\n    height: 100%;\n    width: 100%;\n    image {\n      height: 100%;\n      width: 100%;\n    }\n  }\n  .mask {\n    & > view {\n      position: absolute;\n      color: #fff;\n    }\n    display: flex;\n    justify-content: center;\n    .back {\n      border: 1px solid rgba(255, 255, 255, 0.3);\n      top: 0;\n      left: 30rpx;\n      border-radius: 100px;\r\n      width: 38px;\r\n      height: 38px;\r\n      background: rgba(0, 0, 0, 0.5);\r\n      margin-left: 0;\r\n      backdrop-filter: blur(10rpx);\r\n      display: flex;\n      justify-content: center;\r\n      align-items: center;\r\n    }\n    .count {\n      top: 10vh;\n      background: rgba(0, 0, 0, 0.7);\n      border-radius: 40rpx;\n      font-size: 28rpx;\n      padding: 8rpx 28rpx;\n      backdrop-filter: blur(10rpx);\n    }\n    .time {\n      top: calc(10vh + 80rpx);\n      font-size: 140rpx;\n      font-weight: 100;\n      line-height: 1em;\n      text-shadow: 0 4rpx rgba(0, 0, 0, 0.3);\n    }\n    .date {\n      top: calc(10vh + 230rpx);\n      font-size: 34rpx;\n      text-shadow: 0 2rpx rgba(0, 0, 0, 0.3);\n    }\n    .info {\n      bottom: 10vh;\n      background: rgba(255, 255, 255, 0.8);\n      width: 30vh;\n      height: 120rpx;\n      // color: #000;\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      border-radius: 120rpx;\n      box-shadow: 0 2rpx 0 rgba(0, 0, 0, 0.1);\n      backdrop-filter: blur(20rpx);\n      .box {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 2rpx 12rpx;\n        .text {\n          font-size: 26rpx;\n          color: $font2;\n        }\n      }\n    }\n  }\r\n      .Header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .title {\r\n        color: $font2;\r\n        font-size: 26rpx;\r\n      }\r\n      .close {\r\n        padding: 6rpx;\r\n      }\r\n    }\n  .infopopup {\n    background: #fff;\n    padding: 30rpx;\n    border-radius: 30rpx 30rpx 0 0;\n    // overflow: hidden;\n    scroll-view {\r\n    max-height: 50vh;\r\n    .content {\r\n      .row {\r\n        display: flex;\r\n        padding: 16rpx 0;\r\n        font-size: 32rpx;\r\n        line-height: 1.7em;\r\n        .label {\r\n          color: $font3;\r\n          width: 140rpx;\r\n          text-align: right;\r\n          font-size: 30rpx;\r\n        }\r\n        .value {\r\n          flex: 1;\r\n          width: 0;\r\n        }\r\n        .star {\r\n          display: flex;\r\n          align-items: center;\r\n          .score {\r\n            font-size: 26rpx;\r\n            color: $font3;\r\n            padding-left: 20rpx;\r\n          }\r\n        }\r\n        .tabs{\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          .tab{\r\n            border: 1px solid $theme-c;\r\n            color: $theme-c;\r\n            font-size: 22rpx;\r\n            padding: 10rpx 30rpx;\r\n            border-radius: 40rpx;\r\n            line-height: 1em;\r\n            margin: 0 10rpx 10rpx 0\r\n          }\r\n        }\r\n      }\r\n      .copyright{\r\n        font-size: 28rpx;\r\n        padding: 20rpx;\r\n        background: #f6f6f6;\r\n        color: #666;\r\n        border-radius: 10rpx;\r\n        margin: 20rpx 0;\r\n        line-height: 1.6em;\r\n      }\r\n    }\r\n  }\n  }\r\n  .starpopup{\r\n    background: #fff;\r\n    border-radius: 30rpx;\r\n    padding: 30rpx;\r\n    // width: 70vh;\r\n    .content{\r\n      display: flex;\r\n      padding: 30rpx;\r\n      justify-content: center;\r\n      align-items: center;\r\n      .text{\r\n        color: #ffca3e;\r\n        padding-left: 10rpx;\r\n        width: 80rpx;\r\n        line-height: 1em;\r\n        text-align: right;\r\n      }\r\n    }\r\n    .footer{\r\n      display: flex;\r\n      justify-content: center;\r\n      padding: 10rpx 0;\r\n      button{\r\n        color: $font3;\r\n      }\r\n    }\r\n  }\n}\n</style>\n","import MiniProgramPage from 'E:/uniapp/壁纸案例/pages/preview/preview.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;AAoGA,UAAM,OAAOA,kBAAI,IAAI;AACrB,UAAM,YAAYA,cAAAA,IAAI,IAAI;AAC1B,UAAM,YAAYA,cAAAA,IAAI,IAAI;AAC1B,UAAM,WAAWA,cAAG,IAAC,CAAC;AACtB,UAAM,WAAWA,cAAG,IAAC,EAAE;AAEvB,UAAM,gBAAgBC,cAAG,MAAC,eAAe,eAAe,KAAK,CAAE;AAC/D,aAAS,SAAS,cAAc,IAAI,UAAM;AACxC,aAAO;AAAA,QACL,GAAG;AAAA,QACH,QAAO,KAAK,YAAY,QAAQ,eAAc,MAAM;AAAA,MACrD;AAAA,IACH,CAAC;AACDA,kBAAA,MAAA,MAAA,OAAA,oCAAY,SAAS,MAAM;AAE3B,UAAM,OAAO,MAAM;AACjBA,oBAAA,MAAA,MAAA,OAAA,oCAAY,KAAK,KAAK;AACtB,WAAK,QAAQ,CAAC,KAAK;AAAA,IACrB;AAGA,UAAM,OAAO,MAAI;AACfA,oBAAAA,MAAI,aAAc;AAAA,IACpB;AAGA,UAAM,WAAW,MAAM;AACrB,gBAAU,MAAM,KAAK,QAAQ;AAAA,IAC/B;AAGA,UAAM,QAAQ,MAAI;AAChB,gBAAU,MAAM,MAAO;AACvB,gBAAU,MAAM,MAAO;AAAA,IACzB;AAGA,UAAM,WAAW,MAAI;AACnB,gBAAU,MAAM,KAAM;AAAA,IACxB;AAGA,UAAM,SAAS,MAAI;AACjB,gBAAU,MAAM,MAAO;AAAA,IACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/IA,GAAG,WAAW,eAAe;"}