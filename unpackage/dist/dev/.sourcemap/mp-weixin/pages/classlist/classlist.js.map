{"version":3,"file":"classlist.js","sources":["pages/classlist/classlist.vue","D:/install/Core/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xhc3NsaXN0L2NsYXNzbGlzdC52dWU"],"sourcesContent":["<template>\n  <view class=\"list\">\r\n    <view class=\"loading\" v-if=\"!wallList.length && !noData\">\r\n      <uni-load-more status=\"loading\"></uni-load-more>\r\n    </view>\n    <view class=\"content\">\n      <navigator url=\"/pages/preview/preview\" class=\"item\" v-for=\"item in wallList\" :key=\"item._id\">\n        <image :src=\"item.smallPicurl\" mode=\"aspectFill\"></image>\n      </navigator>\n    </view>\r\n    <view class=\"loading\" v-if=\"wallList.length\">\r\n      <uni-load-more :status=\"noData?'noMore':'loading'\"></uni-load-more>\r\n    </view>\n  </view>\n</template>\n\n<script setup>\n  import {ref} from 'vue'\n  import {onLoad,onReachBottom} from \"@dcloudio/uni-app\"\n  import {apiwall} from '@/api/apis.js'\r\n  const queryParams = {pageNum:1,pagesize:12}\nconst wallList = ref([])\r\nconst noData = ref(false)\nonLoad((e)=>{\n  let {id=null,name=null} = e\r\n  queryParams.classid = id\n  uni.setNavigationBarTitle({\r\n    title:name\r\n  })\r\n  getwall()\n})\r\n// 触底加载\r\nonReachBottom(()=>{\r\n  if(noData.value) return;\r\n  queryParams.pageNum++;\r\n  getwall()\r\n  \r\n})\n  const getwall = async()=>{\r\n  let res = await apiwall(queryParams)\r\n  if(queryParams.pagesize > res.data.length) noData.value = true\r\n  wallList.value = [...wallList.value,...res.data]\r\n  uni.setStorageSync(\"storgwallList\", wallList.value)\r\n  }\r\n  \n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  display: flex;\n  flex-wrap: wrap;\n  .item {\n    width: 245rpx;\n    height: 544rpx;\n    padding: 2rpx;\n    image {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n</style>","import MiniProgramPage from 'E:/uniapp/壁纸案例/pages/classlist/classlist.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","onReachBottom","apiwall"],"mappings":";;;;;;;;;;;;;;AAoBE,UAAM,cAAc,EAAC,SAAQ,GAAE,UAAS,GAAE;AAC5C,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,SAASA,cAAG,IAAC,KAAK;AACxBC,kBAAM,OAAC,CAAC,MAAI;AACV,UAAI,EAAC,KAAG,MAAK,OAAK,KAAI,IAAI;AAC1B,kBAAY,UAAU;AACtBC,oBAAAA,MAAI,sBAAsB;AAAA,QACxB,OAAM;AAAA,MACV,CAAG;AACD,cAAS;AAAA,IACX,CAAC;AAEDC,kBAAAA,cAAc,MAAI;AAChB,UAAG,OAAO;AAAO;AACjB,kBAAY;AACZ,cAAS;AAAA,IAEX,CAAC;AACC,UAAM,UAAU,YAAS;AACzB,UAAI,MAAM,MAAMC,SAAO,QAAC,WAAW;AACnC,UAAG,YAAY,WAAW,IAAI,KAAK;AAAQ,eAAO,QAAQ;AAC1D,eAAS,QAAQ,CAAC,GAAG,SAAS,OAAM,GAAG,IAAI,IAAI;AAC/CF,oBAAAA,MAAI,eAAe,iBAAiB,SAAS,KAAK;AAAA,IACjD;;;;;;;;;;;;;;;;;;;;;;;;;AC1CH,GAAG,WAAW,eAAe;"}