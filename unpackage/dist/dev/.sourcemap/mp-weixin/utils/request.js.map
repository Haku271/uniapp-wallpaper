{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const URL = 'https://tea.qingnian8.com/api/bizhi/'\r\nexport const request=(config={})=>{\r\n  let {url,data,header={},method=''} = config\r\n  url = URL + url\r\n  header['access-key'] = '283216'\r\n  return new Promise((resolve,reject)=>{\r\n    uni.request({\r\n      url,\r\n      data,\r\n      header,\r\n      method,\r\n      success:res=>{\r\n        if(res.data.errCode===0){\r\n          resolve(res.data)\r\n        }else if(res.data.errCode===400){\r\n          uni.showModal({\r\n            title:'错误提示',\r\n            content:res.data.errMsg,\r\n            showCancel:false\r\n          })\r\n        }else{\r\n          uni.showToast({\r\n            title:res.data.errMsg,\r\n            icon:'none'\r\n          })\r\n          reject(res.data)\r\n        }\r\n        \r\n      },\r\n      fail:err=>{\r\n        reject(err)\r\n      }\r\n    })\r\n  })\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,MAAM;AACA,MAAC,UAAQ,CAAC,SAAO,OAAK;AAChC,MAAI,EAAC,KAAI,MAAK,SAAO,CAAA,GAAG,SAAO,GAAE,IAAI;AACrC,QAAM,MAAM;AACZ,SAAO,YAAY,IAAI;AACvB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACnCA,kBAAAA,MAAI,QAAQ;AAAA,MACV;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAQ,SAAK;AACX,YAAG,IAAI,KAAK,YAAU,GAAE;AACtB,kBAAQ,IAAI,IAAI;AAAA,QACjB,WAAQ,IAAI,KAAK,YAAU,KAAI;AAC9BA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UACvB,CAAW;AAAA,QACX,OAAa;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACjB,CAAW;AACD,iBAAO,IAAI,IAAI;AAAA,QAChB;AAAA,MAEF;AAAA,MACD,MAAK,SAAK;AACR,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;"}